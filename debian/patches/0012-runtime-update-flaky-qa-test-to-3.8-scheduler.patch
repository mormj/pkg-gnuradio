From 819ac2b2ee5cb5b7ef2944735633cfc21dea4050 Mon Sep 17 00:00:00 2001
From: Bastian Bloessl <mail@bastibl.net>
Date: Wed, 19 Jun 2019 22:21:50 +0200
Subject: [PATCH 12/14] runtime: update flaky qa test to 3.8 scheduler

---
 gr-blocks/python/blocks/qa_python_message_passing.py | 8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

diff --git a/gr-blocks/python/blocks/qa_python_message_passing.py b/gr-blocks/python/blocks/qa_python_message_passing.py
index 49e2e5e481..f9baff45db 100644
--- a/gr-blocks/python/blocks/qa_python_message_passing.py
+++ b/gr-blocks/python/blocks/qa_python_message_passing.py
@@ -103,13 +103,7 @@ class test_python_message_passing(gr_unittest.TestCase):
         self.assertEqual('in_port' in pmt.to_python(msg_cons.message_ports_in()), True)
 
         # Run to verify message passing
-        self.tb.start()
-
-        # Wait for all messages to be sent
-        while msg_gen.msg_ctr < num_msgs:
-            time.sleep(0.5)
-        self.tb.stop()
-        self.tb.wait()
+        self.tb.run()
 
         # Verify that the message consumer got all the messages
         self.assertEqual(num_msgs, len(msg_cons.msg_list))
-- 
2.20.1

